export default function(){const e={};return{on:function(c,l){let n=e[c];n||(n=function(){const e=[];return{callbacks:e,registerCallback:c=>{e.push(c)},unregisterCallback:c=>{const l=e.indexOf(c);l>-1&&e.splice(l,1)},fire:c=>{[...e].forEach(e=>{e(c)})}}}(),e[c]=n),n.callbacks.find(e=>e===l)||n.registerCallback(l)},off:function(c,l){if(c){const n=e[c];l?(null==n?void 0:n.callbacks.indexOf(l))>-1&&(n.unregisterCallback(l),0===n.callbacks.length&&delete e[c]):delete e[c]}else Object.keys(e).forEach(c=>{delete e[c]})},dispatch:function(c,l){const n=e[c];n&&n.fire(l)}}}
